name = "vinoflare"
compatibility_date = "2025-02-14"
main = "./src/index.tsx"

[assets]
directory = "./dist/client"
binding = "ASSETS"

[observability.logs]
enabled = true

[[d1_databases]]
binding = "DB"
database_name = "vinoflare"
database_id = "3a61e58f-ecdb-4f91-a158-1c871887ca37"
migrations_dir = "drizzle/migrations"

[[kv_namespaces]]
binding = "KV"
id = "2feeb93090b342ec95a232fac333d8c7"

[[queues.producers]]
binding = "QUEUES"
queue = "vinoflare"

[[queues.consumers]]
queue = "vinoflare"
max_batch_size = 1
max_batch_timeout = 10
max_concurrency = 1
dead_letter_queue = "vinoflare-dlq"