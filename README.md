# æç®€ç•™è¨€æ¿ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºç°ä»£æŠ€æœ¯æ ˆæ„å»ºçš„æç®€é£æ ¼ç•™è¨€æ¿åº”ç”¨ï¼Œå±•ç¤ºäº† TanStack Query + TanStack Router + TanStack Form + Hono + Tailwind CSS çš„å®Œç¾é›†æˆã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **TanStack Query** - å¼ºå¤§çš„æ•°æ®è·å–å’ŒçŠ¶æ€ç®¡ç†
- ğŸ§­ **TanStack Router** - ç±»å‹å®‰å…¨çš„æ–‡ä»¶è·¯ç”±ç³»ç»Ÿ
- ğŸ“ **TanStack Form** - æ— å¤´è¡¨å•çŠ¶æ€ç®¡ç†å’ŒéªŒè¯
- ğŸ” **Zod** - TypeScript ä¼˜å…ˆçš„æ¨¡å¼éªŒè¯
- ğŸ—„ï¸ **Drizzle ORM** - ç°ä»£ TypeScript ORM
- â˜ï¸ **Cloudflare D1** - è¾¹ç¼˜æ•°æ®åº“
- âš¡ **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- ğŸ¨ **Tailwind CSS v4.1** - æç®€åŸå­åŒ– CSS æ¡†æ¶
- ğŸ”— **Hono RPC** - ç±»å‹å®‰å…¨çš„è¿œç¨‹è¿‡ç¨‹è°ƒç”¨

## ğŸ¨ è®¾è®¡ç†å¿µ

### æç®€ä¸»ä¹‰
- **å°‘å³æ˜¯å¤š** - ç§»é™¤ä¸å¿…è¦çš„è£…é¥°å…ƒç´ 
- **åŠŸèƒ½ä¼˜å…ˆ** - æ¯ä¸ªå…ƒç´ éƒ½æœ‰æ˜ç¡®çš„åŠŸèƒ½ç›®çš„
- **ç°åº¦ç¾å­¦** - ä»¥ç°åº¦è‰²å½©ä¸ºä¸»çš„ä¼˜é›…é…è‰²
- **å®½æ¾å¸ƒå±€** - å……è¶³çš„ç•™ç™½å’Œèˆ’é€‚çš„é—´è·

### ç”¨æˆ·ä½“éªŒ
- **å³æ—¶åé¦ˆ** - TanStack Query æä¾›çš„ä¹è§‚æ›´æ–°
- **æ™ºèƒ½ç¼“å­˜** - è‡ªåŠ¨ç¼“å­˜ç®¡ç†ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚
- **è¡¨å•éªŒè¯** - TanStack Form + Zod æä¾›å¼ºå¤§çš„éªŒè¯ä½“éªŒ
- **é”™è¯¯å¤„ç†** - ä¼˜é›…çš„é”™è¯¯çŠ¶æ€å±•ç¤º
- **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯ä¼˜å…ˆçš„å“åº”å¼å¸ƒå±€

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **TanStack Query** - æ•°æ®è·å–ã€ç¼“å­˜å’ŒçŠ¶æ€ç®¡ç†
- **TanStack Router** - æ–‡ä»¶è·¯ç”±ç³»ç»Ÿï¼Œç±»å‹å®‰å…¨
- **TanStack Form** - è¡¨å•çŠ¶æ€ç®¡ç†å’ŒéªŒè¯
- **React** - ç”¨æˆ·ç•Œé¢åº“
- **Zod** - è¿è¡Œæ—¶ç±»å‹éªŒè¯å’Œæ¨¡å¼å®šä¹‰
- **Tailwind CSS** - åŸå­åŒ– CSSï¼Œæç®€è®¾è®¡
- **TypeScript** - ç±»å‹å®‰å…¨

### åç«¯æŠ€æœ¯æ ˆ
- **Hono** - è½»é‡çº§ Web æ¡†æ¶ï¼Œæ”¯æŒ JSX å’Œ RPC
- **Drizzle ORM** - æ•°æ®åº“æ“ä½œ
- **Cloudflare D1** - SQLite å…¼å®¹çš„è¾¹ç¼˜æ•°æ®åº“
- **Zod** - è¿è¡Œæ—¶ç±»å‹éªŒè¯

### å¼€å‘å·¥å…·
- **Vite** - æ„å»ºå·¥å…·å’Œå¼€å‘æœåŠ¡å™¨
- **@tailwindcss/vite** - Tailwind CSS Vite æ’ä»¶
- **React Query Devtools** - æŸ¥è¯¢è°ƒè¯•å·¥å…·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### éƒ¨ç½²åˆ° Cloudflare Workers
```bash
npm run deploy
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ index.tsx                 # Hono æœåŠ¡å™¨ + AppType å¯¼å‡º
â”œâ”€â”€ client.tsx               # å®¢æˆ·ç«¯å…¥å£ + QueryClient é…ç½®
â”œâ”€â”€ renderer.tsx             # HTML æ¸²æŸ“å™¨
â”œâ”€â”€ app.css                  # Tailwind CSS å…¥å£
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ query-client.ts      # QueryClient é…ç½®
â”‚   â”œâ”€â”€ quotes-api.ts        # TanStack Query hooks
â”‚   â””â”€â”€ quote-schema.ts      # Zod éªŒè¯æ¨¡å¼
â”œâ”€â”€ components/
â”‚   â””â”€â”€ QuoteForm.tsx        # TanStack Form ç»„ä»¶
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ index.tsx            # ä¸»é¡µï¼ˆæç®€è®¾è®¡ï¼‰
â”‚   â””â”€â”€ quotes.index.tsx     # ç•™è¨€é¡µé¢ï¼ˆæç®€è®¾è®¡ï¼‰
â””â”€â”€ server/
    â”œâ”€â”€ db/                  # æ•°æ®åº“é…ç½®
    â”‚   â”œâ”€â”€ index.ts         # æ•°æ®åº“è¿æ¥
    â”‚   â””â”€â”€ schema.ts        # æ•°æ®è¡¨ç»“æ„
    â””â”€â”€ routers/             # API è·¯ç”±
        â””â”€â”€ quote-router.ts  # ç•™è¨€ API
```

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

### è‰²å½©æ–¹æ¡ˆ
```css
/* ä¸»è‰²è°ƒ */
gray-900    /* æ·±ç°è‰² - ä¸»è¦æŒ‰é’®å’Œæ–‡å­— */
gray-700    /* ä¸­ç°è‰² - æ‚¬åœçŠ¶æ€ */

/* æ¬¡è¦è‰²è°ƒ */
gray-500    /* æµ…ç°è‰² - æ¬¡è¦æ–‡å­— */
gray-400    /* æ›´æµ…ç°è‰² - å ä½ç¬¦æ–‡å­— */

/* èƒŒæ™¯è‰²è°ƒ */
white       /* ä¸»èƒŒæ™¯ */
gray-50     /* å¡ç‰‡èƒŒæ™¯ */

/* è¾¹æ¡†è‰²è°ƒ */
gray-200    /* è¾¹æ¡† */
gray-100    /* åˆ†å‰²çº¿ */
```

### å­—ä½“ç³»ç»Ÿ
```css
/* ä¸»æ ‡é¢˜ */
text-4xl md:text-5xl font-light

/* é¡µé¢æ ‡é¢˜ */
text-2xl font-light

/* å¡ç‰‡æ ‡é¢˜ */
text-xl font-medium

/* æ­£æ–‡ */
text-base leading-relaxed

/* å°å­— */
text-sm / text-xs
```

### é—´è·ç³»ç»Ÿ
```css
/* å®¹å™¨å®½åº¦ */
max-w-2xl    /* ç•™è¨€é¡µé¢ */
max-w-4xl    /* ä¸»é¡µ */

/* å†…è¾¹è· */
px-4         /* ç§»åŠ¨ç«¯æ°´å¹³é—´è· */
py-8         /* å¸¸è§„å‚ç›´é—´è· */
py-16        /* å¤§å‚ç›´é—´è· */

/* ç»„ä»¶é—´è· */
space-y-6    /* åˆ—è¡¨é¡¹é—´è· */
gap-3        /* å°å…ƒç´ é—´è· */
```

## ğŸ“ è¡¨å•éªŒè¯ç‰¹æ€§

### TanStack Form + Zod é›†æˆ
- **ç±»å‹å®‰å…¨éªŒè¯** - Zod schema è‡ªåŠ¨æ¨æ–­ç±»å‹
- **å®æ—¶éªŒè¯åé¦ˆ** - onChange éªŒè¯æä¾›å³æ—¶åé¦ˆ
- **å¤šå±‚éªŒè¯è§„åˆ™** - å­—æ®µçº§å’Œè¡¨å•çº§éªŒè¯
- **è‡ªå®šä¹‰éªŒè¯é€»è¾‘** - æ”¯æŒå¤æ‚çš„ä¸šåŠ¡è§„åˆ™éªŒè¯

### éªŒè¯è§„åˆ™ç¤ºä¾‹
```typescript
// å§“åéªŒè¯
name: z
  .string()
  .min(2, 'å§“åè‡³å°‘éœ€è¦2ä¸ªå­—ç¬¦')
  .max(50, 'å§“åä¸èƒ½è¶…è¿‡50ä¸ªå­—ç¬¦')
  .regex(/^[\u4e00-\u9fa5a-zA-Z\s]+$/, 'åªèƒ½åŒ…å«ä¸­æ–‡ã€è‹±æ–‡å’Œç©ºæ ¼')

// é‚®ç®±éªŒè¯
email: z
  .string()
  .email('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€')
  .max(100, 'é‚®ç®±åœ°å€ä¸èƒ½è¶…è¿‡100ä¸ªå­—ç¬¦')

// ç•™è¨€å†…å®¹éªŒè¯
message: z
  .string()
  .min(10, 'ç•™è¨€å†…å®¹è‡³å°‘éœ€è¦10ä¸ªå­—ç¬¦')
  .max(500, 'ç•™è¨€å†…å®¹ä¸èƒ½è¶…è¿‡500ä¸ªå­—ç¬¦')
  .refine(
    (value) => !value.includes('spam'),
    'ç•™è¨€å†…å®¹ä¸èƒ½åŒ…å«åƒåœ¾ä¿¡æ¯'
  )
```

## ğŸ”— TanStack Query ç‰¹æ€§

### æ™ºèƒ½ç¼“å­˜
- **è‡ªåŠ¨ç¼“å­˜ç®¡ç†** - 5åˆ†é’Ÿæ•°æ®æ–°é²œåº¦ï¼Œ30åˆ†é’Ÿç¼“å­˜æ—¶é—´
- **è¯·æ±‚å»é‡** - ç›¸åŒæŸ¥è¯¢è‡ªåŠ¨å»é‡
- **åå°æ›´æ–°** - æ•°æ®åœ¨åå°è‡ªåŠ¨æ›´æ–°

### çŠ¶æ€ç®¡ç†
- **åŠ è½½çŠ¶æ€** - è‡ªåŠ¨ç®¡ç† `isLoading`ã€`isPending` çŠ¶æ€
- **é”™è¯¯å¤„ç†** - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- **ä¹è§‚æ›´æ–°** - å³æ—¶ UI åé¦ˆï¼Œæå‡ç”¨æˆ·ä½“éªŒ

### å¼€å‘ä½“éªŒ
- **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript æ”¯æŒ
- **å¼€å‘å·¥å…·** - React Query Devtools è°ƒè¯•æ”¯æŒ
- **ä»£ç å¤ç”¨** - å¯å¤ç”¨çš„ hooks å’ŒæŸ¥è¯¢é€»è¾‘

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [TanStack Form é›†æˆæŒ‡å—](./TANSTACK_FORM_INTEGRATION.md)
- [TanStack Query è¿ç§»æŒ‡å—](./TANSTACK_QUERY_MIGRATION.md)
- [Tailwind CSS è¿ç§»æŒ‡å—](./TAILWIND_MIGRATION.md)

## ğŸ› ï¸ å¼€å‘è¯´æ˜

### æ•°æ®åº“
é¡¹ç›®ä½¿ç”¨ Cloudflare D1 ä½œä¸ºæ•°æ®åº“ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­ä¼šè‡ªåŠ¨åˆ›å»ºæœ¬åœ° SQLite æ–‡ä»¶ã€‚

### è·¯ç”±
ä½¿ç”¨ TanStack Router çš„æ–‡ä»¶è·¯ç”±ç³»ç»Ÿï¼Œè·¯ç”±æ–‡ä»¶ä½äº `src/routes/` ç›®å½•ã€‚

### API
ä½¿ç”¨ Hono RPC æä¾›ç±»å‹å®‰å…¨çš„ API è°ƒç”¨ï¼Œé€šè¿‡ TanStack Query hooks è¿›è¡Œæ•°æ®ç®¡ç†ã€‚

### è¡¨å•
ä½¿ç”¨ TanStack Form + Zod æä¾›å¼ºå¤§çš„è¡¨å•çŠ¶æ€ç®¡ç†å’ŒéªŒè¯åŠŸèƒ½ã€‚

### æ ·å¼
ä½¿ç”¨ Tailwind CSS v4.1 æä¾›åŸå­åŒ– CSSï¼Œé‡‡ç”¨æç®€è®¾è®¡ç†å¿µã€‚

## ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

### ä¸ä¼ ç»Ÿæ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | ä¼ ç»Ÿæ–¹æ¡ˆ | æœ¬é¡¹ç›® |
|------|----------|--------|
| æ•°æ®è·å– | æ‰‹åŠ¨ fetch | TanStack Query |
| ç¼“å­˜ç®¡ç† | æ‰‹åŠ¨ç®¡ç† | è‡ªåŠ¨ç¼“å­˜ |
| è¡¨å•éªŒè¯ | æ‰‹åŠ¨éªŒè¯ | TanStack Form + Zod |
| åŠ è½½çŠ¶æ€ | æ‰‹åŠ¨å¤„ç† | è‡ªåŠ¨ç®¡ç† |
| é”™è¯¯å¤„ç† | åˆ†æ•£å¤„ç† | ç»Ÿä¸€å¤„ç† |
| è®¾è®¡é£æ ¼ | è£…é¥°æ€§å¼º | æç®€åŠŸèƒ½æ€§ |
| å¼€å‘ä½“éªŒ | å¤æ‚é…ç½® | å¼€ç®±å³ç”¨ |

### æ€§èƒ½ä¼˜åŒ–
- âœ… **æ™ºèƒ½ç¼“å­˜** - å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚
- âœ… **å¹¶è¡ŒæŸ¥è¯¢** - æ”¯æŒå¹¶è¡Œæ•°æ®è·å–
- âœ… **æœ€å°é‡æ¸²æŸ“** - TanStack Form ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½
- âœ… **æŒ‰éœ€ç”Ÿæˆ** - Tailwind CSS æŒ‰éœ€ç”Ÿæˆæ ·å¼
- âœ… **ç±»å‹å®‰å…¨** - ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥

## ğŸ“„ è®¸å¯è¯

MIT License

---

> è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†ç°ä»£ React åº”ç”¨çš„æœ€ä½³å®è·µï¼Œç»“åˆäº†å¼ºå¤§çš„æ•°æ®ç®¡ç†èƒ½åŠ›ã€ä¼˜ç§€çš„è¡¨å•ä½“éªŒå’Œä¼˜é›…çš„æç®€è®¾è®¡ã€‚

```txt
npm run cf-typegen
```

Pass the `Env` as generics when instantiation `Hono`:

```ts
// src/index.ts
const app = new Hono<{ Bindings: Env }>()
```
